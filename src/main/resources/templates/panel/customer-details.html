<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>SzczegÃ³Å‚y klienta</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 6px;
        }
        .ACTIVE {
            background-color: #e6ffe6;
        }
        .FINISHED {
            background-color: #f4f4f4;
        }
        nav a {
            margin-right: 10px;
        }
    </style>
</head>
<body>

<nav style="margin-bottom:15px;">
    <a href="/panel/cars">ğŸš— Samochody</a>
    <a href="/panel/customers">ğŸ‘¤ Klienci</a>
    <a href="/panel/rentals">ğŸ“„ WypoÅ¼yczenia</a>
</nav>

<hr>

<h1>ğŸ‘¤ SzczegÃ³Å‚y klienta</h1>

<p><b>ImiÄ™:</b> <span th:text="${customer.firstName}"></span></p>
<p><b>Nazwisko:</b> <span th:text="${customer.lastName}"></span></p>
<p><b>Email:</b> <span th:text="${customer.email}"></span></p>
<p><b>Telefon:</b> <span th:text="${customer.phone}"></span></p>
<p><b>Adres:</b> <span th:text="${customer.address}"></span></p>
<p><b>DowÃ³d osobisty:</b> <span th:text="${customer.idCardNumber}"></span></p>
<p><b>Pesel:</b> <span th:text="${customer.pesel}"></span></p>
<p><b>Prawo jazdy:</b>
    <span th:text="${customer.drivingLicenseNumber != null && !customer.drivingLicenseNumber.isBlank()
        ? customer.drivingLicenseNumber : 'brak'}"></span>
</p>
<p><b>NIP:</b> <span th:text="${customer.nip != null && !customer.nip.isBlank() ? customer.nip : 'â€”'}"></span></p>

<hr>

<h2>ğŸ“œ WypoÅ¼yczenia klienta</h2>

<table>
    <thead>
    <tr>
        <th>SamochÃ³d</th>
        <th>Rejestracja</th>
        <th>Od</th>
        <th>Do</th>
        <th>Typ wynajmu</th>
        <th>Cena jednostkowa</th>
        <th>Czas wynajmu</th>
        <th>ÅÄ…czna kwota</th>
        <th>Status</th>
        </tr>
    </thead>
    <tbody>
    <tr th:each="r : ${rentals}"
        th:class="${r.returned ? 'FINISHED' : 'ACTIVE'}">
        <td th:text="${r.car.brand + ' ' + r.car.model}"></td>
        <td th:text="${r.car.plateNumber}"></td>
        <td th:text="${r.startDate}"></td>
        <td th:text="${r.endDate != null ? r.endDate : 'â€”'}"></td>
        <td>
            <span th:if="${r.rentalType == T(com.carrental.backend.model.RentalType).SHORT_TERM}">Dobowy</span>
            <span th:if="${r.rentalType == T(com.carrental.backend.model.RentalType).LONG_TERM}">MiesiÄ™czny</span>
        </td>
        <td>
            <span th:if="${r.rentalType == T(com.carrental.backend.model.RentalType).SHORT_TERM}"
                  th:text="${r.pricePerDay} + ' zÅ‚/dzieÅ„'"></span>
            <span th:if="${r.rentalType == T(com.carrental.backend.model.RentalType).LONG_TERM}"
                  th:text="${r.pricePerMonth} + ' zÅ‚/mc'"></span>
        </td>
        <td>
            <span th:if="${r.rentalType == T(com.carrental.backend.model.RentalType).SHORT_TERM}"
                  th:text="${r.days} + ' dÃ³b'"></span>
            <span th:if="${r.rentalType == T(com.carrental.backend.model.RentalType).LONG_TERM}"
                  th:text="${r.months} + ' miesiÄ™cy'"></span>
        </td>
        <td>
            <strong style="color: green;" th:text="${#numbers.formatCurrency(r.totalPrice)}"></strong>
        </td>
        <td>
            <span th:if="${r.returned}" style="color: green;">âœ… ZwrÃ³cony</span>
            <span th:if="${!r.returned}" style="color: orange;">ğŸ”„ Aktywny</span>
        </td>
    </tr>
    </tbody>
</table>

<br>
<a href="/panel/customers">â¬… PowrÃ³t do listy klientÃ³w</a>

</body>
</html>