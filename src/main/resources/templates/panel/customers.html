<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="">
<head>
  <meta charset="UTF-8">
  <title>Klienci</title>
  <style>
    table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ccc; padding: 8px; }
    th { background: #f4f4f4; }
    a.button {
      padding: 6px 10px;
      background: #2c7be5;
      color: white;
      text-decoration: none;
      border-radius: 4px;
    }
  </style>
</head>
<body>
<nav style="margin-bottom:15px;">
  <a href="/panel/cars">ğŸš— Samochody</a> |
  <a href="/panel/customers">ğŸ‘¤ Klienci</a> |
  <a href="/panel/rentals">ğŸ“„ WypoÅ¼yczenia</a>
</nav>
<hr>

<h1>ğŸ‘¤ Klienci</h1>

<a href="/panel/customers/add" class="button">â• Dodaj klienta</a>

<br>
<form method="get" th:action="@{/panel/customers}">
  <label>
    <input type="text"
           name="lastName"
           th:value="${lastName ?: ''}"
           placeholder="Szukaj po nazwisku">
  </label>
  <button type="submit">ğŸ” Szukaj po nazwisku</button>
  <a th:href="@{/panel/customers}">WyczyÅ›Ä‡</a>
</form>

<hr>
<p th:if="${#lists.isEmpty(customers)}">Brak klientÃ³w w bazie.</p>
<table>
  <thead>
  <tr>
    <th>ID</th>
    <th>ImiÄ™</th>
    <th>Nazwisko</th>
    <th>Email</th>
    <th>Telefon</th>
    <th>Adres</th>
    <th>DowÃ³d</th>
    <th>PESEL</th>
    <th>Prawo jazdy</th>
    <th>NIP</th>
    <th>SzczegÃ³Å‚y Edycja</th>
    <th>UsuÅ„</th>
  </tr>
  </thead>

  <tbody>
  <tr th:each="c : ${customers ?: '-'}">
    <td th:text="${c.id}"></td>
    <td th:text="${c.firstName}"></td>
    <td>
      <a th:href="@{'/panel/customers/' + ${c.id}}"
         th:text="${c.lastName}"></a>
    </td>

    <td th:text="${c.email}"></td>
    <td th:text="${c.phone}"></td>
    <td th:text="${c.address}"></td>
    <td th:text="${c.idCardNumber}"></td>
    <td th:text="${c.pesel}"></td>
    <td th:text="${c.drivingLicenseNumber ?: '-'}"></td>
    <td th:text="${c.nip ?: '-'}"></td>
    <td>
      <a th:href="@{'/panel/customers/' + ${c.id}}">
        ğŸ‘¤ SzczegÃ³Å‚y
      </a>
      <a th:href="@{'/panel/customers/' + ${c.id} + '/edit'}">

        âœï¸ Edytuj
      </a>
    </td>

    <td>
      <form th:action="@{'/panel/customers/' + ${c.id} + '/delete'}"
            method="post"
            onsubmit="return confirm('Na pewno usunÄ…Ä‡ klienta?');">
        <button type="submit">ğŸ—‘ UsuÅ„</button>
      </form>
    </td>

  </tr>
  </tbody>
</table>

<br>
<a href="/panel/cars">â¬… PowrÃ³t do samochodÃ³w</a>

</body>
</html>
